name: Upload Test Results to InfluxDB
description: Parse JUnit XML test results and upload to InfluxDB for trend analysis

inputs:
  junit-file:
    description: Path to JUnit XML file
    required: true
  influx-url:
    description: InfluxDB URL
    required: true
  influx-org:
    description: InfluxDB organization
    required: true
  influx-bucket:
    description: InfluxDB bucket name
    required: true
  influx-token:
    description: InfluxDB authentication token
    required: true
  runner-name:
    description: Name of the CI runner (e.g., ubuntu-latest, self-hosted)
    required: true
  tags:
    description: Additional tags to attach as InfluxDB tags (JSON string)
    required: false
    default: '{}'

runs:
  using: node24
  main: dist/index.js
